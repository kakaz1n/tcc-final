{"version":3,"sources":["webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.page.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","aptService","Bookings","fetchBookings","bookingRes","getBookingList","snapshotChanges","subscribe","res","forEach","item","a","payload","toJSON","key","push","prop","sort","b","valueChanges","console","log","id","window","confirm","deleteBooking","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DAJjC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;ACfb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCkBFI,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAT1B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,0EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,mDAAD;AAPN,OAAT,CAS0B,GAAdD,cAAc,CAAd;;;;;;;;;;;;;;;;AClBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCUFE,QAAQ;AAGnB,0BACUC,UADV,EACwC;AAAA;;AAA9B,eAAAA,UAAA,GAAAA,UAAA;AAHV,eAAAC,QAAA,GAAW,EAAX;AAIK;;AALc;AAAA;AAAA,iBAOnB,oBAAW;AAAA;;AACT,iBAAKC,aAAL;AACA,gBAAIC,UAAU,GAAG,KAAKH,UAAL,CAAgBI,cAAhB,EAAjB;AACAD,sBAAU,CAACE,eAAX,GAA6BC,SAA7B,CAAuC,UAAAC,GAAG,EAAI;AAC5C,mBAAI,CAACN,QAAL,GAAgB,EAAhB;AACAM,iBAAG,CAACC,OAAJ,CAAY,UAAAC,IAAI,EAAI;AAClB,oBAAIC,CAAC,GAAGD,IAAI,CAACE,OAAL,CAAaC,MAAb,EAAR;AACAF,iBAAC,CAAC,MAAD,CAAD,GAAYD,IAAI,CAACI,GAAjB;;AACA,qBAAI,CAACZ,QAAL,CAAca,IAAd,CAAmBJ,CAAnB;AACD,eAJD;AAKD,aAPD;AASD;AAnBkB;AAAA;AAAA,iBAoBnB,gBAAOK,IAAP,EAAqB;AACnB,mBAAO,KAAKd,QAAL,CAAce,IAAd,CAAmB,UAACN,CAAD,EAAIO,CAAJ;AAAA,qBAAUP,CAAC,CAACK,IAAD,CAAD,GAAUE,CAAC,CAACF,IAAD,CAAX,GAAoB,CAApB,GAAwBL,CAAC,CAACK,IAAD,CAAD,KAAYE,CAAC,CAACF,IAAD,CAAb,GAAsB,CAAtB,GAA0B,CAAC,CAA7D;AAAA,aAAnB,CAAP;AACD;AAtBkB;AAAA;AAAA,iBAuBnB,yBAAgB;AACd,iBAAKf,UAAL,CAAgBI,cAAhB,GAAiCc,YAAjC,GAAgDZ,SAAhD,CAA0D,UAAAC,GAAG,EAAI;AAC/DY,qBAAO,CAACC,GAAR,CAAYb,GAAZ;AACD,aAFD;AAGD;AA3BkB;AAAA;AAAA,iBA6BnB,uBAAcc,EAAd,EAAkB;AAChBF,mBAAO,CAACC,GAAR,CAAYC,EAAZ;;AACA,gBAAIC,MAAM,CAACC,OAAP,CAAe,+BAAf,CAAJ,EAAqD;AACnD,mBAAKvB,UAAL,CAAgBwB,aAAhB,CAA8BH,EAA9B;AACD;AACF;AAlCkB;;AAAA;AAAA,S;;;;gBARZ;;;;AAQItB,cAAQ,6DANpB,gEAAU;AACT0B,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,kEAFS;;AAAA,OAAV,CAMoB,GAAR3B,QAAQ,CAAR","file":"home-home-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Doctors App\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content><!---->\\n  <ion-list class=\\\"ios list-ios hydrated\\\">\\n    <ion-list-header class=\\\"ios hydrated\\\">\\n      Appointments\\n    </ion-list-header>\\n\\n    <ion-item *ngFor=\\\"let booking of sortBy('nome')\\\" class=\\\"user-list\\\">\\n      <ion-label>\\n        <h5>\\n          <ion-icon name=\\\"person\\\"></ion-icon> {{booking.nome}}\\n        </h5>\\n      </ion-label>\\n      <div class=\\\"item-note\\\" item-end>\\n        <button ion-button clear [routerLink]=\\\"['/edit-appointment/', booking.$key]\\\">\\n          <ion-icon name=\\\"create\\\" style=\\\"zoom:2.0\\\"></ion-icon>\\n        </button>\\n        <button ion-button clear (click)=\\\"deleteBooking(booking.$key)\\\">\\n          <ion-icon name=\\\"trash\\\" style=\\\"zoom:2.0\\\"></ion-icon>\\n        </button>\\n      </div>\\n    </ion-item>\\n  </ion-list>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGhvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFFQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFBRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUVBLGNBQUE7RUFFQSxTQUFBO0FBRkY7O0FBS0E7RUFDRSxxQkFBQTtBQUZGIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG5cbiAgY29sb3I6ICM4YzhjOGM7XG5cbiAgbWFyZ2luOiAwO1xufVxuXG4jY29udGFpbmVyIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { Appointment } from '../shared/Appointment';\nimport { AppointmentService } from './../shared/appointment.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage implements OnInit {\n  Bookings = [];\n\n  constructor(\n    private aptService: AppointmentService\n  ) { }\n\n  ngOnInit() {\n    this.fetchBookings();\n    let bookingRes = this.aptService.getBookingList();\n    bookingRes.snapshotChanges().subscribe(res => {\n      this.Bookings = [];\n      res.forEach(item => {\n        let a = item.payload.toJSON();\n        a['$key'] = item.key;\n        this.Bookings.push(a as Appointment);\n      })\n    })\n    \n  }\n  sortBy(prop: string) {\n    return this.Bookings.sort((a, b) => a[prop] > b[prop] ? 1 : a[prop] === b[prop] ? 0 : -1);\n  }\n  fetchBookings() {\n    this.aptService.getBookingList().valueChanges().subscribe(res => {\n      console.log(res)\n    })\n  }\n\n  deleteBooking(id) {\n    console.log(id)\n    if (window.confirm('Do you really want to delete?')) {\n      this.aptService.deleteBooking(id)\n    }\n  }\n}"]}